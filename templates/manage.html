{% extends "layout.html" %}

{% block content %}
{% if message %}
<div class="alert {{ 'alert-success' if 'æˆåŠŸ' in message else 'alert-danger' }}">{{ message }}</div>
{% endif %}

<section class="manage-section">
    <h2>âœï¸ æ·»åŠ æ–°è®°å½•</h2>
    <form action="{{ url_for('route_add_record') }}" method="post">
        <div class="form-grid">
            <div class="form-group">
                <label for="date">æ—¥æœŸ</label>
                <input type="date" id="date" name="date" class="form-control" value="{{ today_date }}" required>
            </div>
            <div class="form-group">
                <label for="category">ç±»åˆ« (å¯è¾“å…¥æ–°ç±»åˆ«)</label>
                <input list="categories-list" id="category" name="category" class="form-control" required>
                <datalist id="categories-list">
                    {% for cat in categories %}
                    <option value="{{ cat }}">
                    {% endfor %}
                </datalist>
            </div>
            <div class="form-group">
                <label for="amount">é‡‘é¢</label>
                <input type="number" step="0.01" id="amount" name="amount" class="form-control" required>
            </div>
            <div class="form-group">
                <label>ç±»å‹</label>
                <div class="form-radio-group">
                    <input type="radio" id="expense" name="type" value="expense" checked>
                    <label for="expense">æ”¯å‡º</label>
                    <input type="radio" id="income" name="type" value="income">
                    <label for="income">æ”¶å…¥</label>
                </div>
            </div>
            <div class="form-group" style="grid-column: 1 / -1;">
                <label for="note">å¤‡æ³¨ (å¯é€‰)</label>
                <input type="text" id="note" name="note" class="form-control">
            </div>
        </div>
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">æ·»åŠ è®°å½•</button>
        </div>
    </form>
</section>

<section class="manage-section">
    <h2>ğŸš€ å¯¼å‡º/æ›´æ–°æŠ¥å‘Š</h2>
    <form action="{{ url_for('route_export_report') }}" method="post">
        <div class="form-grid">
            <div class="form-group">
                <label for="month">æŒ‰æœˆä»½ (YYYY-MM)</label>
                <input type="month" id="month" name="month" class="form-control">
            </div>
            <div class="form-group">
                <label for="year">æŒ‰å¹´ä»½ (YYYY)</label>
                <input type="number" id="year" name="year" class="form-control" placeholder="ä¾‹å¦‚: 2025">
            </div>
        </div>
        <div class="form-actions">
            <button type="submit" class="btn btn-secondary">ç”Ÿæˆ/æ›´æ–°æŠ¥å‘Š</button>
        </div>
    </form>
</section>
{% endblock %}